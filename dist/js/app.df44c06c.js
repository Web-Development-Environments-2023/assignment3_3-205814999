(()=>{"use strict";var e={8111:(e,t,r)=>{r.d(t,{Z:()=>p});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recipe-preview"},[r("div",{staticClass:"recipe-image",style:{backgroundImage:"url("+e.recipe.image+")"},on:{mouseover:function(t){e.showImageTooltip=!0},mouseout:function(t){e.showImageTooltip=!1},click:e.addWatched}},[r("router-link",{staticClass:"image-link",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id}}}}),r("div",{staticClass:"overlay"},[e.showImageTooltip?r("span",{staticClass:"tooltip"},[e._v("Click image to show recipe")]):e._e()]),r("div",{staticClass:"actions"},[e.isWatched||e.isFavorite?r("span",{staticClass:"icon-background"}):e._e(),e.isWatched?r("button",{staticClass:"watched-icon",on:{mouseover:[function(t){e.showWatchedTooltip=!0},function(e){e.stopPropagation()}],mouseout:function(t){e.showWatchedTooltip=!1}}},[r("i",{class:e.watchedIconClass}),e.showWatchedTooltip?r("span",{staticClass:"tooltip"},[e._v("Has been watched")]):e._e()]):e._e(),r("button",{staticClass:"favorite-icon",class:{active:e.isFavorite},on:{click:function(t){return t.stopPropagation(),e.toggleFavorite(t)},mouseover:[function(t){e.showFavoriteTooltip=!0},function(e){e.stopPropagation()}],mouseout:function(t){e.showFavoriteTooltip=!1}}},[r("i",{staticClass:"fas fa-heart"}),e.showFavoriteTooltip?r("span",{staticClass:"tooltip"},[e._v("Favorite")]):e._e()])])],1),r("div",{staticClass:"recipe-details"},[r("h3",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),r("p",{staticClass:"recipe-time"},[e._v("Time: "+e._s(e.recipe.readyInMinutes)+" minutes")]),r("div",{staticClass:"recipe-icons"},[r("div",{staticClass:"recipe-icon"},[r("i",{staticClass:"fas fa-fire"}),r("span",{staticClass:"icon-label"},[e._v(e._s(e.recipe.popularity))])]),r("div",{staticClass:"recipe-icon"},[r("i",{staticClass:"fas fa-carrot"}),r("span",{staticClass:"icon-label",class:{active:e.recipe.vegan}},[e._v("Vegan")])]),r("div",{staticClass:"recipe-icon"},[r("i",{staticClass:"fas fa-leaf"}),r("span",{staticClass:"icon-label",class:{active:e.recipe.vegetarian}},[e._v("Vegetarian")])]),r("div",{staticClass:"recipe-icon"},[r("i",{staticClass:"fas fa-leaf"}),r("span",{staticClass:"icon-label",class:{active:e.recipe.glutenFree}},[e._v("Gluten Free")])])])])])},o=[],s=r(6835),n=r(8534);r(7941),r(6699),r(2023),r(7658),r(8862);const i={data:function(){return{showFavoriteTooltip:!1,showImageTooltip:!1,showWatchedTooltip:!1}},computed:{isWatched:function(){var e=JSON.parse(localStorage.getItem("clickedRecipes"))||[];return e.includes(this.recipe.id)},isFavorite:function(){return!1},watchedIconClass:function(){return this.isWatched?"fas fa-eye":"far fa-eye"}},methods:{addWatched:function(){var e=JSON.parse(localStorage.getItem("clickedRecipes"))||[];e.includes(this.recipe.id)||e.push(this.recipe.id),localStorage.setItem("clickedRecipes",JSON.stringify(e))},toggleFavorite:function(){var e=this;return(0,n.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("hello$$$$$$$$$"),console.log(e.isFavorite),console.log(e.recipe.id),console.log(e.$root.store.server_domain),t.next=6,e.axios.post(e.$root.store.server_domain+"/users/favorites",{recipeId:e.recipe.id},{withCredentials:!0}).then((function(t){console.log(t),e.isFavorite=!0}))["catch"]((function(e){console.error("Failed to mark recipe as favorite:",e)}));case 6:response=t.sent;case 7:case"end":return t.stop()}}),t)})))()}},props:{recipe:{type:Object,required:!0}}},c=i;var l=r(1001),u=(0,l.Z)(c,a,o,!1,null,"af1e7f7c",null);const p=u.exports},293:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Login")]),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[r("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[r("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[r("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),r("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),r("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},o=[],s=r(6835),n=r(8534),i=(r(7658),r(379));const c={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.C1},password:{required:i.C1}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},Login:function(){var e=this;return(0,n.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.server_domain+"/Login",{username:e.form.username,password:e.form.password});case 3:t.sent,console.log(e.$root.store.login),e.$root.store.login(e.form.username),"/"!==e.$router.currentRoute.path&&e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},l=c;var u=r(1001),p=(0,u.Z)(l,a,o,!1,null,"f3be524c",null);const d=p.exports},3900:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727),r(9554),r(1539),r(4747);var a=r(144),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[r("div",{staticClass:"container"},[r("router-link",{staticClass:"navbar-brand logo",attrs:{to:{name:"main"}}},[e._v("Main Page")]),e._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[r("ul",{staticClass:"navbar-nav ml-auto"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"search"}}},[e._v("Search")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"about"}}},[e._v("About")])],1),e.$root.store.username?e._e():r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"favorites"}}},[e._v("Favorites")])],1),e.$root.store.username?e._e():r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"register"}}},[e._v("Register")])],1),e.$root.store.username?r("li",{staticClass:"nav-item dropdown"},[r("b-dropdown",{attrs:{id:"navbarDropdown",text:"Personal","toggle-class":"nav-link"}},[r("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"favorites"}}},[e._v("My Favorites")]),r("b-dropdown-divider"),r("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"myrecipes"}}},[e._v("My Recipes")]),r("b-dropdown-divider"),r("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"family"}}},[e._v("My Family Recipes")])],1)],1):r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"}}},[e._v("Login")])],1),e.$root.store.username?r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"create"}}},[e._v("Create Recipe | ")])],1):e._e(),e.$root.store.username?r("li",{staticClass:"nav-item"},[r("span",{staticClass:"navbar-text"},[e._v(" "+e._s(e.$root.store.username)+" ")]),r("button",{staticClass:"btn btn-primary ml-2",on:{click:e.logout}},[e._v("Logout")])]):e._e()])])],1)]),r("div",{staticClass:"container py-4"},[r("router-view")],1)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}];r(7658);const n={name:"App",methods:{logout:function(){var e=this;this.$root.store.logout(),this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))}}},i=n;var c=r(1001),l=(0,c.Z)(i,o,s,!1,null,"e62187be",null);const u=l.exports;var p=r(1939),d=r.n(p),v=r(6154),m=(r(8783),r(3948),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",[r("RecipePreviewList",{staticClass:"RandomRecipes center",attrs:{title:"Randomm Recipes"}})],1),e.$root.store.username?r("b-col",[r("RecipePreviewList",{class:{RandomRecipes:!0,blur:e.$root.store.username,center:!0},attrs:{title:"Last Viewed Recipes",disabled:""}})],1):r("b-col",[r("LoginPage")],1)],1)],1)],1)}),f=[],h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v(" "+e._s(e.title)+": "),e._t("default")],2),r("div",e._l(e.recipes,(function(e){return r("div",{key:e.id},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),0)])},g=[],b=r(6835),_=r(5957),C=r(8534),w=r(8111);const y={name:"RecipePreviewList",components:{RecipePreview:w.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[]}},mounted:function(){this.updateRecipes()},methods:{updateRecipes:function(){var e=this;return(0,C.Z)((0,b.Z)().mark((function t(){var r,a,o;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/recipes/random");case 3:a=t.sent,console.log("################## im here"),console.log(a),o=a.data,e.recipes=[],(r=e.recipes).push.apply(r,(0,_.Z)(o)),console.log(e.recipes),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},$=y;var k=(0,c.Z)($,h,g,!1,null,"08c7bd4c",null);const x=k.exports;var P=r(293);const E={name:"MainPage",components:{RecipePreviewList:x,LoginPage:P["default"]}},O=E;var T=(0,c.Z)(O,m,f,!1,null,"32ccbc08",null);const F=T.exports;var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Four Oh Four you didn't")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},L=[],R={},Z=(0,c.Z)(R,S,L,!1,null,null,null);const j=Z.exports;var I=[{path:"/",name:"main",component:F},{path:"/register",name:"register",component:function(){return r.e(574).then(r.bind(r,8574))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(r.bind(r,293))}},{path:"/search",name:"search",component:function(){return r.e(183).then(r.bind(r,1183))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return r.e(481).then(r.bind(r,8481))}},{path:"/about",name:"about",component:function(){return r.e(737).then(r.bind(r,7737))}},{path:"/favorites",name:"favorites",component:function(){return r.e(291).then(r.bind(r,3291))}},{path:"/myrecipes",name:"myrecipes",component:function(){return r.e(297).then(r.bind(r,3297))}},{path:"/family",name:"family",component:function(){return r.e(839).then(r.t.bind(r,4839,23))}},{path:"/create",name:"create",component:function(){return r.e(673).then(r.bind(r,673))}},{path:"*",name:"notFound",component:j}];const N=I;var A=r(8345),M=r(8620),W=(r(7024),r(9301)),q=r(7563),U=r(5053),D=r(1869),B=r(8672),H=r(4500),J=r(8348),V=r(4063),G=r(4167),K=r(8824);a["default"].use(A.Z);var Y=new A.Z({routes:N});[W.E,q.w6,U.g,D.SY,B.xL,H.u3,J.v5,V.F,G.m$,K.A6].forEach((function(e){return a["default"].use(e)})),a["default"].use(M.ZP),v.Z.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v.Z.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),a["default"].use(d(),v.Z),a["default"].config.productionTip=!1;var z={server_domain:"http://127.0.0.1:3000",username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0}};console.log(z),new a["default"]({router:Y,data:function(){return{store:z}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:a,autoHideDelay:3e3})}},render:function(e){return e(u)}}).$mount("#app")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,a,o,s)=>{if(!a){var n=1/0;for(u=0;u<e.length;u++){for(var[a,o,s]=e[u],i=!0,c=0;c<a.length;c++)(!1&s||n>=s)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(i=!1,s<n&&(n=s));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>n[e]=()=>a[e]));return n["default"]=()=>a,r.d(s,n),s}})(),(()=>{r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[]))})(),(()=>{r.u=e=>"js/"+e+"."+{183:"5b1b47c8",291:"7ef3c150",297:"e4569ebe",481:"24e0bd57",574:"45a8cf75",673:"8d23b908",737:"d93ba3cf",839:"1686c659"}[e]+".js"})(),(()=>{r.miniCssF=e=>"css/"+e+"."+{183:"00d369a4",481:"2812976f",574:"f4ae6cea"}[e]+".css"})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="assignment-3-3:";r.l=(a,o,s,n)=>{if(e[a])e[a].push(o);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==a||p.getAttribute("data-webpack")==t+s){i=p;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[o];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(v);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{r.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,r,a,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var n=r=>{if(s.onerror=s.onload=null,"load"===r.type)a();else{var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=i,s.parentNode&&s.parentNode.removeChild(s),o(c)}};return s.onerror=s.onload=n,s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},t=(e,t)=>{for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var o=r[a],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){o=n[a],s=o.getAttribute("data-href");if(s===e||s===t)return o}},a=a=>new Promise(((o,s)=>{var n=r.miniCssF(a),i=r.p+n;if(t(n,i))return o();e(a,i,null,o,s)})),o={143:0};r.f.miniCss=(e,t)=>{var r={183:1,481:1,574:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))}}})(),(()=>{var e={143:0};r.f.j=(t,a)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var s=new Promise(((r,a)=>o=e[t]=[r,a]));a.push(o[2]=s);var n=r.p+r.u(t),i=new Error,c=a=>{if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",i.name="ChunkLoadError",i.type=s,i.request=n,o[1](i)}};r.l(n,c,"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,a)=>{var o,s,[n,i,c]=a,l=0;if(n.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var u=c(r)}for(t&&t(a);l<n.length;l++)s=n[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},a=self["webpackChunkassignment_3_3"]=self["webpackChunkassignment_3_3"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r.O(void 0,[998],(()=>r(3900)));a=r.O(a)})();
//# sourceMappingURL=app.df44c06c.js.map